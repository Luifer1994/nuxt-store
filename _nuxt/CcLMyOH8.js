import{s as P,r as v,Y as k,o as c,c as i,a as e,v as $,Q as B,R as A,t as _,Z as V,$ as q,b as x,d as S,W as M,N as D,p as C,e as E,_ as y,a0 as T,a1 as N,a2 as R,a3 as H,V as U,u as Z,a4 as G,h as I}from"./BtYoTJw-.js";import{u as W,a as z,_ as F}from"./BBf2Axga.js";import{a as L,u as Q}from"./Cge2norN.js";import"./Cnh3-DW5.js";import"./CAZilBRX.js";async function Y(t){try{return(await fetch(t,{method:"HEAD"})).ok}catch{return!1}}const j=t=>(C("data-v-c837e8bc"),t=t(),E(),t),J={class:"container mx-auto px-4 mb-5"},K={class:"lg:col-gap-12 xl:col-gap-16 mt-8 grid grid-cols-1 gap-12 lg:mt-12 lg:grid-cols-5 lg:gap-16"},O={class:"lg:col-span-3 lg:row-end-1"},X={class:"lg:flex lg:items-start"},ee={class:"lg:order-2 lg:ml-5"},te={class:"max-w-xl overflow-hidden rounded-lg group"},ae={key:1,class:"h-full w-full max-w-full object-cover bg-gray-200 animate-pulse"},se={class:"mt-2 w-full lg:order-1 lg:w-32 lg:flex-shrink-0"},oe={class:"flex flex-row items-start lg:flex-col"},le=["onClick"],re={class:"lg:col-span-2 lg:row-span-2 lg:row-end-2"},ce={class:"text-2xl font-bold text-gray-900 sm:text-3xl"},de=M('<h2 class="mt-8 text-base" data-v-c837e8bc>Tipo de Café</h2><div class="mt-3 flex select-none flex-wrap items-center gap-1" data-v-c837e8bc><label class="" data-v-c837e8bc><input type="radio" name="type" value="Powder" class="peer sr-only" checked data-v-c837e8bc><p class="peer-checked:bg-indigo-600 peer-checked:text-white rounded-lg border px-6 py-2 font-bold" data-v-c837e8bc> Molido </p></label><label class="" data-v-c837e8bc><input type="radio" name="type" value="Whole Bean" class="peer sr-only" data-v-c837e8bc><p class="peer-checked:bg-indigo-600 peer-checked:text-white rounded-lg border px-6 py-2 font-bold" data-v-c837e8bc> Grano Entero </p></label><label class="" data-v-c837e8bc><input type="radio" name="type" value="Ground" class="peer sr-only" data-v-c837e8bc><p class="peer-checked:bg-indigo-600 peer-checked:text-white rounded-lg border px-6 py-2 font-bold" data-v-c837e8bc> Molido </p></label></div><h2 class="mt-8 text-base" data-v-c837e8bc>Elige una suscripción</h2><div class="mt-3 flex select-none flex-wrap items-center gap-1" data-v-c837e8bc><label class="" data-v-c837e8bc><input type="radio" name="subscription" value="4 Meses" class="peer sr-only" data-v-c837e8bc><p class="peer-checked:bg-indigo-600 peer-checked:text-white rounded-lg border px-6 py-2 font-bold" data-v-c837e8bc> 4 Meses </p><span class="mt-1 block text-center text-xs" data-v-c837e8bc>$80/mes</span></label><label class="" data-v-c837e8bc><input type="radio" name="subscription" value="8 Meses" class="peer sr-only" checked data-v-c837e8bc><p class="peer-checked:bg-indigo-600 peer-checked:text-white rounded-lg border px-6 py-2 font-bold" data-v-c837e8bc> 8 Meses </p><span class="mt-1 block text-center text-xs" data-v-c837e8bc>$60/mes</span></label><label class="" data-v-c837e8bc><input type="radio" name="subscription" value="12 Meses" class="peer sr-only" data-v-c837e8bc><p class="peer-checked:bg-indigo-600 peer-checked:text-white rounded-lg border px-6 py-2 font-bold" data-v-c837e8bc> 12 Meses </p><span class="mt-1 block text-center text-xs" data-v-c837e8bc>$40/mes</span></label></div>',4),ne={class:"mt-10 flex flex-col items-center justify-between space-y-4 border-t border-b py-4 sm:flex-row sm:space-y-0"},ie=j(()=>e("div",{class:"flex items-end"},[e("h1",{class:"text-3xl font-bold"},"$60.50"),e("span",{class:"text-base"},"/mes")],-1)),pe={class:"flex items-center space-x-2"},ue={class:"lg:col-span-3"},ge=j(()=>e("div",{class:"border-b border-gray-300"},[e("nav",{class:"flex gap-4"},[e("a",{href:"#",title:"",class:"border-b-2 border-gray-900 py-4 text-sm font-medium hover:border-gray-400 hover:text-gray-800"}," Descripción ")])],-1)),ve={class:"mt-8 flow-root sm:mt-12"},me={class:"text-3xl font-bold"},be={class:"mt-4"},he=P({__name:"ProductDetail",props:{product:{}},setup(t){const{addItem:o,items:u}=W(),p=t,d=v(0),l=v([]),s=v(""),n=v(1);k(()=>{const a=u.value.find(r=>r.id===p.product.id);a&&(n.value=a.quantity)}),k(async()=>{p.product.images.length>0&&(d.value=0,l.value=await Promise.all(p.product.images.map(async a=>{const r=a.replace(/[\[\]"]/g,"").trim();return await Y(r)?r:"/default-img.jpg"})),s.value=l.value[0])});const m=a=>{a.target.src="/default-img.jpg"},b=()=>{const a={...p.product,quantity:n.value};o(a)};return(a,r)=>{const h=z,w=F;return c(),i("div",J,[e("div",K,[e("div",O,[e("div",X,[e("div",ee,[e("div",te,[l.value.length>0?(c(),$(h,{key:0,src:l.value[d.value],alt:a.product.title,class:"h-full w-full max-w-full object-cover transition-all duration-300 group-hover:-rotate-3 group-hover:scale-125",onError:m},null,8,["src","alt"])):(c(),i("div",ae))])]),e("div",se,[e("div",oe,[(c(!0),i(B,null,A(l.value,(g,f)=>(c(),i("button",{key:f,type:"button",class:D(["flex-0 aspect-square mb-3 h-20 overflow-hidden rounded-lg border-2 group",f===d.value?"border-gray-900":"border-transparent"]),onClick:Ae=>d.value=f},[x(h,{class:"h-full w-full object-cover transition-all duration-300 group-hover:-rotate-3 group-hover:scale-125",src:g,alt:`Imagen ${f+1}`,onError:m},null,8,["src","alt"])],10,le))),128))])])])]),e("div",re,[e("h1",ce,_(a.product.title),1),de,e("div",ne,[ie,e("div",pe,[V(e("input",{type:"number",min:"1","onUpdate:modelValue":r[0]||(r[0]=g=>n.value=g),class:"w-16 h-12 rounded border text-center"},null,512),[[q,n.value]]),e("button",{onClick:b,type:"button",class:"inline-flex items-center justify-center rounded-md border-2 border-transparent bg-indigo-600 bg-none px-6 py-3 text-center text-base font-bold text-white transition-all duration-200 ease-in-out focus:shadow hover:bg-indigo-500"},[x(w,{name:"i-heroicons-shopping-bag",class:"w-6 h-6 mr-1"}),S(" Agregar al carrito ")])])])]),e("div",ue,[ge,e("div",ve,[e("h1",me,_(a.product.title),1),e("p",be,_(a.product.description),1)])])])])}}}),fe=y(he,[["__scopeId","data-v-c837e8bc"]]),_e={},xe={class:"container mx-auto px-4 mb-5"},ye=M('<div class="lg:col-gap-12 xl:col-gap-16 mt-8 grid grid-cols-1 gap-12 lg:mt-12 lg:grid-cols-5 lg:gap-16"><div class="lg:col-span-3 lg:row-end-1"><div class="lg:flex lg:items-start"><div class="lg:order-2 lg:ml-5"><div class="max-w-xl overflow-hidden rounded-lg bg-gray-200 animate-pulse h-64 w-full"></div></div><div class="mt-2 w-full lg:order-1 lg:w-32 lg:flex-shrink-0"><div class="flex flex-row items-start lg:flex-col"><div class="flex-0 aspect-square mb-3 h-20 overflow-hidden rounded-lg border-2 bg-gray-200 animate-pulse"></div><div class="flex-0 aspect-square mb-3 h-20 overflow-hidden rounded-lg border-2 bg-gray-200 animate-pulse"></div><div class="flex-0 aspect-square mb-3 h-20 overflow-hidden rounded-lg border-2 bg-gray-200 animate-pulse"></div></div></div></div></div><div class="lg:col-span-2 lg:row-span-2 lg:row-end-2"><div class="h-8 w-3/4 bg-gray-200 animate-pulse mb-4"></div><div class="h-6 w-1/2 bg-gray-200 animate-pulse"></div></div><div class="lg:col-span-3"><div class="border-b border-gray-300"><nav class="flex gap-4"><div class="h-8 w-1/4 bg-gray-200 animate-pulse"></div></nav></div><div class="mt-8 flow-root sm:mt-12"><div class="h-8 w-1/2 bg-gray-200 animate-pulse mb-4"></div><div class="h-6 w-full bg-gray-200 animate-pulse mb-2"></div><div class="h-6 w-full bg-gray-200 animate-pulse mb-2"></div><div class="h-6 w-full bg-gray-200 animate-pulse"></div></div></div></div>',1),we=[ye];function ke(t,o){return c(),i("div",xe,we)}const Ie=y(_e,[["render",ke]]),Pe=T("productStore",{state:()=>({products:[],selectedProduct:{}}),actions:{setProducts(t){this.products=t},setSelectedProduct(t){this.selectedProduct=t}}}),$e=()=>{const t=Pe(),{products:o,selectedProduct:u}=N(t);return{products:o,selectedProduct:u,getProductById:async d=>{try{const l=await L(d);t.setSelectedProduct(l)}catch{throw new Error("Error al obtener el producto")}}}},Se=t=>(C("data-v-6210e906"),t=t(),E(),t),Me={key:1,class:"skeleton-container"},Ce={key:2,class:"alert-container"},Ee=Se(()=>e("div",{class:"flex flex-col items-center justify-center p-6 mb-4 text-lg text-red-800 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800",role:"alert"},[e("svg",{class:"flex-shrink-0 inline w-6 h-6 mb-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})]),e("span",{class:"sr-only"},"Info"),e("div",{class:"text-center"},[e("span",{class:"font-medium"},"¡Alerta de peligro!"),S(" Producto no encontrado o falla al cargar. Redirigiendo a la página principal... ")])],-1)),je=[Ee],Be=P({__name:"[id]",async setup(t){let o,u;const p=R(),d=H(),{getProductById:l,selectedProduct:s}=$e(),n=v(!0),m=v(null),{id:b}=p.params,{data:a,error:r}=([o,u]=U(()=>Q(`product:${b}`,()=>l(b))),o=await o,u(),o);return r.value?(m.value=r.value,n.value=!1,setTimeout(()=>{d.push("/")},4e3)):(n.value=!1,Z({title:s.value.title+" | "+G().public.titleTemplate,meta:[{name:"description",content:s.value.description},{property:"og:title",content:s.value.title},{property:"og:description",content:s.value.description},{property:"og:image",content:s.value.images[0]||"/default-img.jpg"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:s.value.title},{name:"twitter:description",content:s.value.description},{name:"twitter:image",content:s.value.images[0]||"/default-img.jpg"}]})),(h,w)=>{var g;return c(),i("div",null,[(g=I(s))!=null&&g.id?(c(),$(fe,{key:0,product:I(s)},null,8,["product"])):n.value?(c(),i("div",Me,[x(Ie)])):(c(),i("div",Ce,je))])}}}),Re=y(Be,[["__scopeId","data-v-6210e906"]]);export{Re as default};
