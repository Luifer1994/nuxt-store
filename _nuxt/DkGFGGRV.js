import{S as f,l as g,m as p,a0 as y,X as S,T as x}from"./C_UkjAcB.js";const q=f("car",()=>{const e=g([]),n=()=>{const a=localStorage.getItem("car");a!==null?e.value=JSON.parse(a):(e.value=[],localStorage.setItem("car",JSON.stringify([])))},r=a=>{e.value.push(a)},i=a=>{e.value=e.value.filter(l=>l.id!==a)},c=()=>{e.value=[]};return typeof window<"u"&&p(()=>{n(),y(e,a=>{localStorage.setItem("car",JSON.stringify(a))},{deep:!0})}),{items:e,addItem:r,removeItem:i,clearCar:c}}),N=()=>{const n=S().$useToast,r=q(),{items:i}=x(r);return{items:i,addItem:o=>{const t=i.value.find(s=>s.id===o.id);if(t){t.quantity=o.quantity;return}r.addItem(o),n.add({title:"Item añadido al carrito",description:o.title,color:"green"})},removeItem:o=>{var s;const t=(s=i.value.find(v=>v.id===o))==null?void 0:s.title;r.removeItem(o),n.add({title:"Item eliminado del carrito",description:t,color:"red"})},clearCar:()=>{r.clearCar(),n.add({title:"Carrito limpiado",color:"orange"})},getTotalItems:()=>i.value.reduce((o,t)=>o+t.quantity,0),decrementQuantity:o=>{const t=i.value.find(s=>s.id===o);if(t){if(t.quantity<=1)return;t.quantity-=1}},incrementQuantity:o=>{const t=i.value.find(s=>s.id===o);t&&(t.quantity+=1)},getTotalPrice:()=>i.value.reduce((o,t)=>o+t.price*t.quantity,0),addItems:o=>{o.forEach(t=>{r.items.find(v=>v.id===t.id)||t.quantity<=0||r.addItem(t)}),n.add({title:"Items añadidos al carrito",color:"green"})}}},C=f("favorite",()=>{const e=g([]),n=()=>{const a=localStorage.getItem("favorite");a!==null?e.value=JSON.parse(a):(e.value=[],localStorage.setItem("favorite",JSON.stringify([])))},r=a=>{e.value.push(a)},i=a=>{e.value=e.value.filter(l=>l.id!==a)},c=()=>{e.value=[]};return typeof window<"u"&&p(()=>{n(),y(e,a=>{localStorage.setItem("favorite",JSON.stringify(a))},{deep:!0})}),{items:e,addItem:r,removeItem:i,clearFavorite:c}}),h=()=>{const n=S().$useToast,r=C(),{items:i}=x(r);return{items:i,addItem:d=>{i.value.find(u=>u.id===d.id)||(r.addItem(d),n.add({title:"Item añadido al favorito",description:d.title}))},removeItem:d=>{var u;const m=(u=i.value.find(I=>I.id===d))==null?void 0:u.title;r.removeItem(d),n.add({title:"Item eliminado de favoritos",description:m,color:"red"})},clearFavorite:()=>{r.clearFavorite(),n.add({title:"Todos los favoritos han sido eliminados",color:"orange"})},getTotalItems:()=>i.value.length}};export{h as a,N as u};
