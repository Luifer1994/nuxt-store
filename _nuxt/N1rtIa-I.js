import{s as _,r as g,X as $,o,c as d,a as e,x as w,Q as S,R as j,t as m,V as y,y as B,b as k,p as P,e as I,_ as h,Y as M,Z as C,$ as E,a0 as V,U as A,u as D,a1 as R,h as x,d as H}from"./mlE68IOi.js";import{_ as N}from"./CAlm1F--.js";import{a as T,u as q}from"./BA45hisW.js";async function Z(t){try{return(await fetch(t,{method:"HEAD"})).ok}catch{return!1}}const U=t=>(P("data-v-9d9f50c4"),t=t(),I(),t),z={class:"container mx-auto px-4 mb-5"},G={class:"lg:col-gap-12 xl:col-gap-16 mt-8 grid grid-cols-1 gap-12 lg:mt-12 lg:grid-cols-5 lg:gap-16"},L={class:"lg:col-span-3 lg:row-end-1"},W={class:"lg:flex lg:items-start"},F={class:"lg:order-2 lg:ml-5"},Q={class:"max-w-xl overflow-hidden rounded-lg group"},X={key:1,class:"h-full w-full max-w-full object-cover bg-gray-200 animate-pulse"},Y={class:"mt-2 w-full lg:order-1 lg:w-32 lg:flex-shrink-0"},J={class:"flex flex-row items-start lg:flex-col"},K=["onClick"],O={class:"lg:col-span-2 lg:row-span-2 lg:row-end-2"},ee={class:"text-2xl font-bold text-gray-900 sm:text-3xl"},te=y('<h2 class="mt-8 text-base" data-v-9d9f50c4>Coffee Type</h2><div class="mt-3 flex select-none flex-wrap items-center gap-1" data-v-9d9f50c4><label class="" data-v-9d9f50c4><input type="radio" name="type" value="Powder" class="peer sr-only" checked data-v-9d9f50c4><p class="peer-checked:bg-indigo-600 peer-checked:text-white rounded-lg border px-6 py-2 font-bold" data-v-9d9f50c4>Powder</p></label><label class="" data-v-9d9f50c4><input type="radio" name="type" value="Whole Bean" class="peer sr-only" data-v-9d9f50c4><p class="peer-checked:bg-indigo-600 peer-checked:text-white rounded-lg border px-6 py-2 font-bold" data-v-9d9f50c4>Whole Bean</p></label><label class="" data-v-9d9f50c4><input type="radio" name="type" value="Groud" class="peer sr-only" data-v-9d9f50c4><p class="peer-checked:bg-indigo-600 peer-checked:text-white rounded-lg border px-6 py-2 font-bold" data-v-9d9f50c4>Groud</p></label></div><h2 class="mt-8 text-base" data-v-9d9f50c4>Choose subscription</h2><div class="mt-3 flex select-none flex-wrap items-center gap-1" data-v-9d9f50c4><label class="" data-v-9d9f50c4><input type="radio" name="subscription" value="4 Months" class="peer sr-only" data-v-9d9f50c4><p class="peer-checked:bg-indigo-600 peer-checked:text-white rounded-lg border px-6 py-2 font-bold" data-v-9d9f50c4>4 Months</p><span class="mt-1 block text-center text-xs" data-v-9d9f50c4>$80/mo</span></label><label class="" data-v-9d9f50c4><input type="radio" name="subscription" value="8 Months" class="peer sr-only" checked data-v-9d9f50c4><p class="peer-checked:bg-indigo-600 peer-checked:text-white rounded-lg border px-6 py-2 font-bold" data-v-9d9f50c4>8 Months</p><span class="mt-1 block text-center text-xs" data-v-9d9f50c4>$60/mo</span></label><label class="" data-v-9d9f50c4><input type="radio" name="subscription" value="12 Months" class="peer sr-only" data-v-9d9f50c4><p class="peer-checked:bg-indigo-600 peer-checked:text-white rounded-lg border px-6 py-2 font-bold" data-v-9d9f50c4>12 Months</p><span class="mt-1 block text-center text-xs" data-v-9d9f50c4>$40/mo</span></label></div><div class="mt-10 flex flex-col items-center justify-between space-y-4 border-t border-b py-4 sm:flex-row sm:space-y-0" data-v-9d9f50c4><div class="flex items-end" data-v-9d9f50c4><h1 class="text-3xl font-bold" data-v-9d9f50c4>$60.50</h1><span class="text-base" data-v-9d9f50c4>/month</span></div><button type="button" class="inline-flex items-center justify-center rounded-md border-2 border-transparent bg-indigo-600 bg-none px-12 py-3 text-center text-base font-bold text-white transition-all duration-200 ease-in-out focus:shadow hover:bg-indigo-500" data-v-9d9f50c4><svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 mr-3 h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" data-v-9d9f50c4><path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" data-v-9d9f50c4></path></svg> Add to cart </button></div>',5),ae={class:"lg:col-span-3"},se=U(()=>e("div",{class:"border-b border-gray-300"},[e("nav",{class:"flex gap-4"},[e("a",{href:"#",title:"",class:"border-b-2 border-gray-900 py-4 text-sm font-medium hover:border-gray-400 hover:text-gray-800"}," Descripción ")])],-1)),oe={class:"mt-8 flow-root sm:mt-12"},le={class:"text-3xl font-bold"},re={class:"mt-4"},de=_({__name:"ProductDetail",props:{product:{}},setup(t){const s=t,l=g(0),r=g([]),i=g("");$(async()=>{s.product.images.length>0&&(l.value=0,r.value=await Promise.all(s.product.images.map(async a=>{const n=a.replace(/[\[\]"]/g,"").trim();return await Z(n)?n:"/default-img.jpg"})),i.value=r.value[0])});const c=a=>{a.target.src="/default-img.jpg"};return(a,n)=>{const p=N;return o(),d("div",z,[e("div",G,[e("div",L,[e("div",W,[e("div",F,[e("div",Q,[r.value.length>0?(o(),w(p,{key:0,src:r.value[l.value],alt:a.product.title,class:"h-full w-full max-w-full object-cover transition-all duration-300 group-hover:-rotate-3 group-hover:scale-125",onError:c},null,8,["src","alt"])):(o(),d("div",X))])]),e("div",Y,[e("div",J,[(o(!0),d(S,null,j(r.value,(v,u)=>(o(),d("button",{key:u,type:"button",class:B(["flex-0 aspect-square mb-3 h-20 overflow-hidden rounded-lg border-2 group",u===l.value?"border-gray-900":"border-transparent"]),onClick:f=>l.value=u},[k(p,{class:"h-full w-full object-cover transition-all duration-300 group-hover:-rotate-3 group-hover:scale-125",src:v,alt:`Image ${u+1}`,onError:c},null,8,["src","alt"])],10,K))),128))])])])]),e("div",O,[e("h1",ee,m(a.product.title),1),te]),e("div",ae,[se,e("div",oe,[e("h1",le,m(a.product.title),1),e("p",re,m(a.product.description),1)])])])])}}}),ce=h(de,[["__scopeId","data-v-9d9f50c4"]]),ne={},ie={class:"container mx-auto px-4 mb-5"},pe=y('<div class="lg:col-gap-12 xl:col-gap-16 mt-8 grid grid-cols-1 gap-12 lg:mt-12 lg:grid-cols-5 lg:gap-16"><div class="lg:col-span-3 lg:row-end-1"><div class="lg:flex lg:items-start"><div class="lg:order-2 lg:ml-5"><div class="max-w-xl overflow-hidden rounded-lg bg-gray-200 animate-pulse h-64 w-full"></div></div><div class="mt-2 w-full lg:order-1 lg:w-32 lg:flex-shrink-0"><div class="flex flex-row items-start lg:flex-col"><div class="flex-0 aspect-square mb-3 h-20 overflow-hidden rounded-lg border-2 bg-gray-200 animate-pulse"></div><div class="flex-0 aspect-square mb-3 h-20 overflow-hidden rounded-lg border-2 bg-gray-200 animate-pulse"></div><div class="flex-0 aspect-square mb-3 h-20 overflow-hidden rounded-lg border-2 bg-gray-200 animate-pulse"></div></div></div></div></div><div class="lg:col-span-2 lg:row-span-2 lg:row-end-2"><div class="h-8 w-3/4 bg-gray-200 animate-pulse mb-4"></div><div class="h-6 w-1/2 bg-gray-200 animate-pulse"></div></div><div class="lg:col-span-3"><div class="border-b border-gray-300"><nav class="flex gap-4"><div class="h-8 w-1/4 bg-gray-200 animate-pulse"></div></nav></div><div class="mt-8 flow-root sm:mt-12"><div class="h-8 w-1/2 bg-gray-200 animate-pulse mb-4"></div><div class="h-6 w-full bg-gray-200 animate-pulse mb-2"></div><div class="h-6 w-full bg-gray-200 animate-pulse mb-2"></div><div class="h-6 w-full bg-gray-200 animate-pulse"></div></div></div></div>',1),ue=[pe];function ge(t,s){return o(),d("div",ie,ue)}const ve=h(ne,[["render",ge]]),fe=M("productStore",{state:()=>({products:[],selectedProduct:{}}),actions:{setProducts(t){this.products=t},setSelectedProduct(t){this.selectedProduct=t}}}),me=()=>{const t=fe(),{products:s,selectedProduct:l}=C(t);return{products:s,selectedProduct:l,getProductById:async i=>{try{const c=await T(i);t.setSelectedProduct(c)}catch{throw new Error("Error al obtener el producto")}}}},he=t=>(P("data-v-6210e906"),t=t(),I(),t),be={key:1,class:"skeleton-container"},xe={key:2,class:"alert-container"},_e=he(()=>e("div",{class:"flex flex-col items-center justify-center p-6 mb-4 text-lg text-red-800 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800",role:"alert"},[e("svg",{class:"flex-shrink-0 inline w-6 h-6 mb-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})]),e("span",{class:"sr-only"},"Info"),e("div",{class:"text-center"},[e("span",{class:"font-medium"},"¡Alerta de peligro!"),H(" Producto no encontrado o falla al cargar. Redirigiendo a la página principal... ")])],-1)),we=[_e],ye=_({__name:"[id]",async setup(t){let s,l;const r=E(),i=V(),{getProductById:c,selectedProduct:a}=me(),n=g(!0),p=g(null),{id:v}=r.params,{data:u,error:f}=([s,l]=A(()=>q(`product:${v}`,()=>c(v))),s=await s,l(),s);return f.value?(p.value=f.value,n.value=!1,setTimeout(()=>{i.push("/")},4e3)):(n.value=!1,D({title:a.value.title+" | "+R().public.titleTemplate,meta:[{name:"description",content:a.value.description},{property:"og:title",content:a.value.title},{property:"og:description",content:a.value.description},{property:"og:image",content:a.value.images[0]||"/default-img.jpg"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:a.value.title},{name:"twitter:description",content:a.value.description},{name:"twitter:image",content:a.value.images[0]||"/default-img.jpg"}]})),(ke,Pe)=>{var b;return o(),d("div",null,[(b=x(a))!=null&&b.id?(o(),w(ce,{key:0,product:x(a)},null,8,["product"])):n.value?(o(),d("div",be,[k(ve)])):(o(),d("div",xe,we))])}}}),je=h(ye,[["__scopeId","data-v-6210e906"]]);export{je as default};
